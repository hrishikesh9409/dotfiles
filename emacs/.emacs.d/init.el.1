;-----------------------------------------------------------------------------------;

;start up as fullscreen editor:
(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(Linum-format "%7i ")
 '(ansi-color-faces-vector
   [default bold shadow italic underline bold bold-italic bold])
 '(ansi-color-names-vector
   ["#1F1611" "#660000" "#144212" "#EFC232" "#5798AE" "#BE73FD" "#93C1BC" "#E6E1DC"])
 '(ansi-term-color-vector
   [unspecified "#1F1611" "#660000" "#144212" "#EFC232" "#5798AE" "#BE73FD" "#93C1BC" "#E6E1DC"] t)
 '(compilation-message-face (quote default))
 '(cua-global-mark-cursor-color "#2aa198")
 '(cua-normal-cursor-color "#839496")
 '(cua-overwrite-cursor-color "#b58900")
 '(cua-read-only-cursor-color "#859900")
 '(custom-enabled-themes (quote (solarized-dark)))
 '(custom-safe-themes
   (quote
    ("0542fbd0a5a636ff3000d77c5ddf5da6c375976c921efb83960f425e4b399a99" "4f099df8a3f0e63a544d7d119e7aa117547144f2f602641575d1a43c7db622dc" "06f0b439b62164c6f8f84fdda32b62fb50b6d00e8b01c2208e55543a6337433a" "82d2cac368ccdec2fcc7573f24c3f79654b78bf133096f9b40c20d97ec1d8016" "4aee8551b53a43a883cb0b7f3255d6859d766b6c5e14bcb01bed572fcbef4328" "bc40f613df8e0d8f31c5eb3380b61f587e1b5bc439212e03d4ea44b26b4f408a" "8aebf25556399b58091e533e455dd50a6a9cba958cc4ebb0aab175863c25b9a4" "fa2b58bb98b62c3b8cf3b6f02f058ef7827a8e497125de0254f56e373abee088" "bffa9739ce0752a37d9b1eee78fc00ba159748f50dc328af4be661484848e476" "2f0a552a9d14fe8ddaaacdb7b82a0eee1ea1f7f5d0850789915e5b04a1b9669f" "44eec3c3e6e673c0d41b523a67b64c43b6e38f8879a7969f306604dcf908832c" "5d3e0746023fc5e246eb3e0e48c1ccb5ce0387fc4273896c6cf02ee349c2eba8" "f04122bbc305a202967fa1838e20ff741455307c2ae80a26035fbf5d637e325f" "3632cf223c62cb7da121be0ed641a2243f7ec0130178722554e613c9ab3131de" "66132890ee1f884b4f8e901f0c61c5ed078809626a547dbefbb201f900d03fd8" "eb34ed27768eeea1e423f8987b060e49829aac558fe0669b3de0227da67b661c" "60d4556ebff0dc94849f177b85dcb6956fe9bd394c18a37e339c0fcd7c83e4a9" "20e23cba00cf376ea6f20049022241c02a315547fc86df007544852c94ab44cb" "604648621aebec024d47c352b8e3411e63bdb384367c3dd2e8db39df81b475f5" "9b402e9e8f62024b2e7f516465b63a4927028a7055392290600b776e4a5b9905" "38c4fb6c8b2625f6307f3dde763d5c61d774d854ecee9c5eb9c5433350bc0bef" "0e0c37ee89f0213ce31205e9ae8bce1f93c9bcd81b1bcda0233061bb02c357a8" "086970da368bb95e42fd4ddac3149e84ce5f165e90dfc6ce6baceae30cf581ef" "f2057733672d3b119791f5b7d1a778bf8880121f22ea122a21d221b45081f49e" "4e63466756c7dbd78b49ce86f5f0954b92bf70b30c01c494b37c586639fa3f6f" "ecb9fe1d5b165a35499191a909b2b5710a52935614058b327a39bfbbb07c7dc8" "8abee8a14e028101f90a2d314f1b03bed1cde7fd3f1eb945ada6ffc15b1d7d65" "b9a06c75084a7744b8a38cb48bc987de10d68f0317697ccbd894b2d0aca06d2b" "3629b62a41f2e5f84006ff14a2247e679745896b5eaa1d5bcfbc904a3441b0cd" default)))
 '(fci-rule-character-color "#452E2E")
 '(fci-rule-color "#171717")
 '(flycheck-color-mode-line-face-to-color (quote mode-line-buffer-id))
 '(fringe-mode 4 nil (fringe))
 '(highlight-changes-colors (quote ("#FD5FF0" "#AE81FF")))
 '(highlight-symbol-colors
   (--map
    (solarized-color-blend it "#002b36" 0.25)
    (quote
     ("#b58900" "#2aa198" "#dc322f" "#6c71c4" "#859900" "#cb4b16" "#268bd2"))))
 '(highlight-symbol-foreground-color "#93a1a1")
 '(highlight-tail-colors
   (quote
    (("#3C3D37" . 0)
     ("#679A01" . 20)
     ("#4BBEAE" . 30)
     ("#1DB4D0" . 50)
     ("#9A8F21" . 60)
     ("#A75B00" . 70)
     ("#F309DF" . 85)
     ("#3C3D37" . 100))))
 '(hl-bg-colors
   (quote
    ("#7B6000" "#8B2C02" "#990A1B" "#93115C" "#3F4D91" "#00629D" "#00736F" "#546E00")))
 '(hl-fg-colors
   (quote
    ("#002b36" "#002b36" "#002b36" "#002b36" "#002b36" "#002b36" "#002b36" "#002b36")))
 '(initial-frame-alist (quote ((fullscreen . maximized))))
 '(magit-diff-use-overlays nil)
 '(main-line-color1 "#1E1E1E")
 '(main-line-color2 "#111111")
 '(main-line-separator-style (quote chamfer))
 '(notmuch-search-line-faces
   (quote
    (("unread" :foreground "#aeee00")
     ("flagged" :foreground "#0a9dff")
     ("deleted" :foreground "#ff2c4b" :bold t))))
 '(nrepl-message-colors
   (quote
    ("#ee11dd" "#8584ae" "#b4f5fe" "#4c406d" "#ffe000" "#ffa500" "#ffa500" "#DC8CC3")))
 '(package-selected-packages
   (quote
    (flycheck rtags company-c-headers auto-complete zweilight-theme zonokai-theme yasnippet tao-theme tangotango-theme tango-plus-theme spacemacs-theme soothe-theme solarized-theme monokai-theme monochrome-theme moe-theme iedit google-c-style flymake-google-cpplint flymake-cursor darktooth-theme color-theme-solarized color-theme-sanityinc-tomorrow color-theme-sanityinc-solarized color-theme-approximate birds-of-paradise-plus-theme badwolf-theme badger-theme avk-emacs-themes auto-complete-c-headers)))
 '(pos-tip-background-color "#FFFACE")
 '(pos-tip-foreground-color "#272822")
 '(powerline-color1 "#1E1E1E")
 '(powerline-color2 "#111111")
 '(smartrep-mode-line-active-bg (solarized-color-blend "#859900" "#073642" 0.2))
 '(term-default-bg-color "#002b36")
 '(term-default-fg-color "#839496")
 '(vc-annotate-background "#0E0E0E")
 '(vc-annotate-background-mode nil)
 '(vc-annotate-color-map
   (quote
    ((20 . "#616161")
     (40 . "#9E9E9E")
     (60 . "#9E9E9E")
     (80 . "#C3C3C3")
     (100 . "#C3C3C3")
     (120 . "#DADADA")
     (140 . "#DADADA")
     (160 . "#E8E8E8")
     (180 . "#E8E8E8")
     (200 . "#E8E8E8")
     (220 . "#F1F1F1")
     (240 . "#F1F1F1")
     (260 . "#F1F1F1")
     (280 . "#F6F6F6")
     (300 . "#F6F6F6")
     (320 . "#F6F6F6")
     (340 . "#FAFAFA")
     (360 . "#FAFAFA"))))
 '(vc-annotate-very-old-color "#DADADA")
 '(weechat-color-list
   (unspecified "#272822" "#3C3D37" "#F70057" "#F92672" "#86C30D" "#A6E22E" "#BEB244" "#E6DB74" "#40CAE4" "#66D9EF" "#FB35EA" "#FD5FF0" "#74DBCD" "#A1EFE4" "#F8F8F2" "#F8F8F0"))
 '(xterm-color-names
   ["#073642" "#dc322f" "#859900" "#b58900" "#268bd2" "#d33682" "#2aa198" "#eee8d5"])
 '(xterm-color-names-bright
   ["#002b36" "#cb4b16" "#586e75" "#657b83" "#839496" "#6c71c4" "#93a1a1" "#fdf6e3"]))

;-----------------------------------------------------------------------------------;


(require 'package)
(add-to-list 'package-archives
         '("melpa" . "http://melpa.org/packages/") t)

(package-initialize)

(when (not package-archive-contents)
    (package-refresh-contents))

(unless (package-installed-p 'use-package)
  (package-install 'use-package))

(require 'use-package)
(setq use-package-always-ensure t)

(add-to-list 'load-path "~/.emacs.d/custom")

(require 'setup-general)
(if (version< emacs-version "24.4")
    (require 'setup-ivy-counsel)
  (require 'setup-helm)
  (require 'setup-helm-gtags))
  ;;(require 'setup-ggtags)
(require 'setup-cedet)
(require 'setup-editing)


;enable line numbers:
(global-linum-mode t)

(defun fontify-frame (frame)
  (set-frame-parameter frame 'font "Monospace-9.5"))

;; Fontify current frame:
(fontify-frame nil)
;; Fontify any future frames:
(push 'fontify-frame after-make-frame-functions) 

;(setq default-directory "/home/hrishi/")
;-----------------------------------------------------------------------------------;

;set global undo key:
(global-set-key [f4] 'undo)
;enable clipboard support for emacs: 
(global-set-key "\C-w" 'clipboard-kill-region)
(global-set-key "\M-w" 'clipboard-kill-ring-save)
(global-set-key "\C-y" 'clipboard-yank)

;undo and redo global keys:
(when (require 'redo nil 'noerror)
    (global-set-key (kbd "C-s-z") 'redo))

(global-set-key (kbd "C-z") 'undo)
(global-set-key (kbd "<f9>") 'compile)
(global-set-key "\C-xg" 'goto-line)
(global-set-key "\C-x\C-t" 'shell);
(global-set-key "\C-x\C-r" 'toggle-read-only);

(setq yas-indent-line (quote none))
(define-key prog-mode-map (kbd "C-m") nil)


; (global-set-key (kbd "<f9>")
;                 (lambda ()
;                   (interactive)
;                   (shell-command (concat "make run"))))
;-----------------------------------------------------------------------------------;


(load "/home/hrishi/.emacs.d/themes/ir-black-theme.el")
(setq compile-command "make && make run")

;paste to and from clipboard (while using emacs from terminal):
(defun copy-to-clipboard ()
  (interactive)
  (if (display-graphic-p)
      (progn
        (message "Yanked region to x-clipboard!")
        (call-interactively 'clipboard-kill-ring-save)
        )
    (if (region-active-p)
        (progn
          (shell-command-on-region (region-beginning) (region-end) "xsel -i -b")
          (message "Yanked region to clipboard!")
          (deactivate-mark))
      (message "No region active; can't yank to clipboard!")))
  )

(defun paste-from-clipboard ()
  (interactive)
  (if (display-graphic-p)
      (progn
        (clipboard-yank)
        (message "graphics active")
        )
    (insert (shell-command-to-string "xsel -o -b"))
    )
  )

(global-set-key [f5] 'copy-to-clipboard)
(global-set-key [f6] 'paste-from-clipboard)


(global-set-key [f10]
  '(lambda () (interactive) 
      (condition-case nil (next-error) 
         (error (next-error 1 t)))))
;-----------------------------------------------------------------------------------;

(global-visual-line-mode t)
(set-display-table-slot standard-display-table 'wrap ?\n )
(auto-fill-mode 1)
(setq-default auto-fill-function 'do-auto-fill)
(global-set-key (kbd "C-x C-d") 'auto-fill-mode)

;; function-args
;; (require 'function-args)
;; (fa-config-default)
;; (define-key c-mode-map  [(tab)] 'company-complete)
;; (define-key c++-mode-map  [(tab)] 'company-complete)
(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(package-selected-packages
   (quote
    (rtags ggtags irony flycheck zygospore helm-gtags helm yasnippet ws-butler volatile-highlights use-package undo-tree iedit dtrt-indent counsel-projectile company clean-aindent-mode anzu))))
(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )

;; on the fly syntax checking
(use-package flycheck
  :ensure t
  :init
  (global-flycheck-mode t))


;start google-c-style with emacs:
(require 'google-c-style)

(add-hook 'c-mode-common-hook 'google-set-c-style)
(add-hook 'c-mode-common-hook 'google-make-newline-indent)

;-----------------------------------------------------------------------------------;
;cedet mode for semantic evaluation : 

(semantic-mode 1)
(global-semantic-idle-scheduler-mode 1)

(defun my:add-semantic-to-autocomplete()
  (add-to-list 'ac-sources 'ac-source-semantic)
)
(add-hook 'c-mode-common-hook 'my:add-semantic-to-autocomplete)

(require 'cc-mode)
(require 'semantic)

(global-semanticdb-minor-mode 1)
(global-semantic-idle-scheduler-mode 1)

(semantic-add-system-include "/usr/include/c++/5/" 'c++-mode)
(semantic-add-system-include "/usr/include/x86_64-linux-gnu/c++/5")
(semantic-add-system-include "/usr/include/c++/5/backward")
(semantic-add-system-include "/usr/lib/gcc/x86_64-linux-gnu/5/include")
(semantic-add-system-include "/usr/local/include")
(semantic-add-system-include "/usr/lib/gcc/x86_64-linux-gnu/5/include-fixed")
(semantic-add-system-include "/usr/include")



(require 'company)
(add-hook 'after-init-hook 'global-company-mode)

(setq company-backends (delete 'company-semantic company-backends))
(define-key c-mode-map  [(tab)] 'company-complete)
(define-key c++-mode-map  [(tab)] 'company-complete)

; ;; Auto completion
; (use-package auto-complete
;   :ensure t
;   :init
;   (progn
;     (ac-config-default)
;     (global-auto-complete-mode t)
;     ))
;-----------------------------------------------------------------------------------;
; incase we are setting up huge projects with different folders and according to its own specific needs : 
(global-ede-mode 1)
;(ede-cpp-root-project "test" :file "~/work/test/main.cpp":include-path '(/../include_files))
;-----------------------------------------------------------------------------------;

;setting up YASnippet and start it with emacs:
(require 'yasnippet)
(yas-global-mode 1)
;-----------------------------------------------------------------------------------;

(require 'company-c-headers)
(require 'company)
(add-hook 'global-init-hook 'global-company-mode)
(add-to-list 'company-backends 'company-c-headers)
(add-to-list 'company-c-headers-path-system "/usr/include/c++/5/")
(add-to-list 'company-c-headers-path-system "/usr/include/x86_64-linux-gnu/c++/5")
(add-to-list 'company-c-headers-path-system "/usr/include/c++/5/backward")
(add-to-list 'company-c-headers-path-system "/usr/lib/gcc/x86_64-linux-gnu/5/include")
(add-to-list 'company-c-headers-path-system "/usr/local/include")
(add-to-list 'company-c-headers-path-system "/usr/local/include")
(add-to-list 'company-c-headers-path-system "/usr/lib/gcc/x86_64-linux-gnu/5/include-fixed")
(add-to-list 'company-c-headers-path-system "/usr/include")


(defun my:ac-c-headers-init ()
  (require 'auto-complete-c-headers)
  (add-to-list 'ac-sources 'ac-source-c-headers))

(add-hook 'c++-mode-hook 'my:ac-c-headers-init)
(add-hook 'c-mode-hook 'my:ac-c-headers-init)

;global shortcut for iedit mode: 
(define-key global-map (kbd "C-c ;") 'iedit-mode)
;-----------------------------------------------------------------------------------;

(fset 'yes-or-no-p 'y-or-n-p)

; ;; Auto completion
; (use-package auto-complete
;   :ensure t
;   :init
;   (progn
;     (ac-config-default)
;     (global-auto-complete-mode t)
;     ))

(remove-hook 'comint-output-filter-functions
             'comint-postoutput-scroll-to-bottom)
